<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Keith Stevens">
<meta name="dcterms.date" content="2023-12-11">
<meta name="description" content="Let’s apply a 1990’s tech marketing theory to today’s hot topic: Generative AI Markets">

<title>The AI Tornado – Fozzie The Beat</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<link href="../../assets/img/surface.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-d64559d910ec87c4ee681e1e2f97436f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="The AI Tornado – Fozzie The Beat">
<meta property="og:description" content="Let’s apply a 1990’s tech marketing theory to today’s hot topic: Generative AI Markets">
<meta property="og:image" content="https://fozziethebeat.com/posts/231209-the-ai-tornado/231209-tech-tornado-better-sm.png">
<meta property="og:site_name" content="Fozzie The Beat">
<meta property="og:image:height" content="512">
<meta property="og:image:width" content="512">
<meta name="twitter:title" content="The AI Tornado – Fozzie The Beat">
<meta name="twitter:description" content="Let’s apply a 1990’s tech marketing theory to today’s hot topic: Generative AI Markets">
<meta name="twitter:image" content="https://fozziethebeat.com/posts/231209-the-ai-tornado/231209-tech-tornado-better-sm.png">
<meta name="twitter:image-height" content="512">
<meta name="twitter:image-width" content="512">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Fozzie The Beat</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/fozziethebeat/fozziethebeat.github.io" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/fozziethebeat/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://www.threads.net/fozziethebeat/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-threads"></i></a>
    <a href="mailto:keith@surfacedata.org" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-send-fill"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-high-tech-marketing-theory-that-works-the-tornado" id="toc-the-high-tech-marketing-theory-that-works-the-tornado" class="nav-link active" data-scroll-target="#the-high-tech-marketing-theory-that-works-the-tornado">The High Tech Marketing Theory that works: the Tornado</a></li>
  <li><a href="#aligning-ai-with-our-tornado-market-theory" id="toc-aligning-ai-with-our-tornado-market-theory" class="nav-link" data-scroll-target="#aligning-ai-with-our-tornado-market-theory">Aligning AI: with our tornado market theory</a></li>
  <li><a href="#lets-do-some-positioning-open-ai-and-everyone-else" id="toc-lets-do-some-positioning-open-ai-and-everyone-else" class="nav-link" data-scroll-target="#lets-do-some-positioning-open-ai-and-everyone-else">Let’s do some positioning Open AI and everyone else</a></li>
  <li><a href="#handwaving-towards-the-future" id="toc-handwaving-towards-the-future" class="nav-link" data-scroll-target="#handwaving-towards-the-future">Handwaving towards the future</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The AI Tornado</h1>
</div>

<div>
  <div class="description">
    Let’s apply a 1990’s tech marketing theory to today’s hot topic: Generative AI Markets
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Keith Stevens </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 11, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="the-high-tech-marketing-theory-that-works-the-tornado" class="level2">
<h2 class="anchored" data-anchor-id="the-high-tech-marketing-theory-that-works-the-tornado">The High Tech Marketing Theory that works: the Tornado</h2>
<p>Today’s hot disruptive technology has one name, Generative AI. We know it’s disrupting things and generating tons of investment and tons of money with lots of companies acting hastily. But what should we expect of the market? What is an engineer to make of the upcoming future? I don’t know but during the 90’s a tech marketing master named Geoffrey Moore wrote two books, <a href="https://www.amazon.com/Crossing-Chasm-3rd-Disruptive-Mainstream/dp/0062292986">Crossing the Chasm</a> and <a href="https://www.amazon.com/Inside-Tornado-Strategies-Developing-Hypergrowth/dp/0060745819">Into the Tornado</a>. Together I find them a perfect description of what tech “distruption” really means, and how a disruptive technology flows through markets. Does it still apply to today’s digital SaaS products? I think so. And even if it doesn’t I’m going to fit a square into a circle and see what happens.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="231209-tech-tornado-better-sm.png" title="I like my tornado's with a little bit of personality" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>So, what is Tornado Theory, as I understand it? This is an older name for what we now call high growth markets, aka the land of startups and aspiring unicorns. In these scenarios, there’s existing or old markets comfortable with some old timey slow and reliable solution. Some new technology shows up and impresses the high tech audience (my crowd) until it gains the attention of some small set of visionary business leaders that see a bit into the future. Then most startups die as they fall into a chasm where they fail to market the product to the much larger and more pragmatic customers that their investors need. The few startups utilizing the new tech that make it through go onto strategic market land grabs until the large pool of pragmatic customers feel ready to buy. Then suddenly <em>every</em> pragmatic customer wants the product and they want it now, they want it fast, and they want it from the market leader. Those that win in the tornado come out unicorns.</p>
<p>Successful companies need to deploy different leadership qualities to survive each stage. At the visionary stage they need to get product innovation right. Just after the chasm, they need to keep developing the product, partner aggressively, and focus on the customer. But as soon as the pragmatic customers decide to start buying in mass, successful companies should, according to Moore’s theory, completely forget the customer and their many particular wants and desires and instead 100% focus on delivering the product as fast as possible. Any lost sale due to lack of supply goes to some other competitor for the lifetime of the market. Winners sell hard and fast with a much lower emphasis, even no emphasis, on hard product innovation.</p>
<p>As this tornado is crushing older business models and leaving everyone wondering who will survive and who will be the winner, the market naturally sorts companies into three distinct groups: Gorillas, Chimps, and Monkeys. Why these three groups? Because they give nice analogies to relative strength between each player. Gorillas are, well, the winner of the tornado. They set the standard, they define the product category, they take the largest market share and the largest portion of the profits. The chimps are the competitors with equally good, or even sometimes better, technology but who failed to work the market right. They survive by being the nicer company that still cares about the customer and does some key innovation the Gorilla doesn’t do. The monkeys are everyone else that’s busy trying to provide low cost clones of the top line product. Its a little gross and brutal, but so are the market machines that produce unicorns.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="231209-tornado-players-sm.png" title="The market isn't kind enough to let these three be friends, but we can pretend right?" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Now, this theory worked well in the 90s and 2000s when products were generally hard physical things that required a purchase and support from slower distribution channels like retail stores. These days tho high tech products go through the internet with either self-service SaaS or some convoluted enterprise sales flow. Either way, things move faster. I’m too much of an engineer to exactly know how this changes Moore’s theory but I’m pretty sure it just means some parts of the cycle compress and overlap more than they used to. Either way, I’m pretty sure this Tornado is tearing through the tech world right now in the form of Generative AI. So let’s cut to the chase.</p>
</section>
<section id="aligning-ai-with-our-tornado-market-theory" class="level2">
<h2 class="anchored" data-anchor-id="aligning-ai-with-our-tornado-market-theory">Aligning AI: with our tornado market theory</h2>
<p>Today’s disruptive technology is most obviously generative AI, in the form of Large Language Models, Multimodal Modals, and Image/Video generation. But what’s not clear is where the Generative AI market is in terms of the standard <a href="https://en.wikipedia.org/wiki/Technology_adoption_life_cycle">tech adoption life cycle</a>. Nor is it clear what the true “whole product” solution is. Aside: the whole product is the minimal set of associated products or services needed to maximally leverage the disruptive technology. Also, with the entire space of Generative AI, there’s likely multiple actual markets. So for simplicity, I want to focus on Large Language Models as the baseline disruptive technology.</p>
<p>These started pretty early in machine translation where transformers were first applied. Both my old team, <a href="https://translate.google.com/">Google Translate</a>, and our up and coming competitor, <a href="https://www.deepl.com/translator">DeepL</a>, demonstrated their visionary behavior. Google Translate partially adopted transformers but also generally favored an alternative technology that turned out to be not super discontinuous. DeepL instead launched fast with transfomers to be the first on the market with a full transformer generative AI product. That was the visionary stage, I think.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="231209-mt-visionary-sm.png" title="Look at that happy little robot visionary. I remember the days when the transformer team came to us and insisted we launch it asap. Too bad we missed that boat" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Then the market wandered through a variety of other niche markets that were larger in size. I wasn’t totally paying attention at this time since I was still with Google Translate, but looking back I’d say companies like <a href="http://jasper.ai/">Jasper</a> were a key niche market for transformers, now in the form of General Pretrained Transformers or GPT for short. And <a href="https://openai.com/">OpenAI</a> was the leading vendor for transformers. Others were competing and trying things out, but they were building, serving, and hosting the whole core product pretty effectively.</p>
<p>Then <a href="https://chat.openai.com/">ChatGPT</a> came out and <em>absolutely</em> crushed the bowling alley by gaining 100 million users in light-speed. That week made it absolutely clear that transformers had left the chasm hard. They left the world of niche markets with zero looking back. They had started a tornado. And <em>everyone</em> was buying. A bajillion startups were using OpenAI’s APIs to build thin wrappers that then sold a generative AI product to some niche audience, all while more and more customers consolidated around OpenAI’s product and standards.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="231209-state-of-bowling-alley-sm.png" title="And now the time for bowling is over" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Now we have a transformative technology, transformers, flowing through the market with clear players. It’s teetering now on main street. What’s not clear is what exactly is the whole product solution that wraps around transformers to make a truly commoditized product any customer can leverage with glee and satisfaction. Nor is it clear who is going to make it through the tornado and end up on top. But let’s make some wild assertions.</p>
</section>
<section id="lets-do-some-positioning-open-ai-and-everyone-else" class="level2">
<h2 class="anchored" data-anchor-id="lets-do-some-positioning-open-ai-and-everyone-else">Let’s do some positioning Open AI and everyone else</h2>
<p>Moore sets out a few key criteria for placing each company into the Gorilla, Chimp, and Monkey bucket. With Gorilla’s there’s only one. They define the product and the standard that everyone competes with. They get the best profit margin and as they sell, they get stronger. The chimps are solid alternatives that just didn’t quite get main street customer attention as fast. Maybe they sold too slowly for “reasons”. Monkeys are all the companies that sell a product similar to the Gorilla but with key features missing and much lower cost, primarily because they’re not setup to push the market forward.</p>
<p>With that reminder, I’m going to throw down some hot takes.</p>
<p>Right now, OpenAI is clearly the market leader. They are the gorilla. They almost committed suicide with the Board firing Sam Altman, but with them back they’re likely stronger than ever. Why are they the gorilla? Well first, Sam Altman is no dummy. He’s from Y-Combinator and knows how high tech market works and he likely wants to be the winner, even if he doesn’t have an equity stake in the company. More importantly tho, if you look at literally any other LLM product such as <a href="https://www.langchain.com/">LangChain</a>, <a href="http://pinecone.io/">Pinecone</a>, and <em>any</em> open source product, they integrate with the OpenAI API format. Even brand new open source models find silly ways to fit into OpenAI’s function calling format, however painful it is. I haven’t seen anyone do that for <a href="https://docs.anthropic.com/claude/reference/getting-started-with-the-api">Anthropic’s API</a>, <a href="https://docs.cohere.com/">Co:here’s API</a>, and especially not for any of Google’s APIs. So, gorilla is now identified.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="231209-openai-top-duck-sm.png" title="That duck? That's OpenAI looking out across the market. I'm tired of the Gorilla analogy" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>And who are the chimps? The other companies developing and furthering the technology but not taking a market leadership position. Clearly this is <a href="https://www.anthropic.com/">Anthropic</a> and <a href="https://cohere.com/">Co:here</a>. Anthropic has been pushing forward hard with aligned AI and constitutional AI to carve out their premium positioning. Cohere has been….I’m not quite sure what they’ve been doing but it looks like they’re doing well. Unless Sam Altman gets fired again, neither company will replace OpenAI but they’ll keep going and provide solid meaningful alternatives.</p>
<p>But where does Google live? They invented transformers in the first place. They even have a fancy new model called <a href="https://deepmind.google/technologies/gemini/">Gemini</a> that they’re about to release. But, they dropped the ball hard in a few ways. Just days ago with Gemini they made what I believe is a hard fatal mistake. They put out a <a href="https://www.youtube.com/watch?v=jV1vkHv4zq8">great video</a> that advances customer perception of how they could use generative AI and then they made clear that they did <em>lots</em> of careful behind the scenes editing to make that happen and they didn’t even release the top line model with the video. This means they pushed the market demand forward and expanded the whole product and will be absolutely unable to sell the promised product. They put a delicious lunch on the table and said to every single competitor “Here, eat my lunch. I won’t be doing so”. Whoever actually delivers the product described in the Gemini video will crush it financially, and it won’t be Google. Given Google’s inability to ship, they’re not a gorilla, not a chimp, not even a monkey. They’re a dying gorilla. It won’t kill Google overall, but it puts them out of the game in this new market for sure.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="231209-google-sad-penguin-sm.png" title="That penguin? It's Google. Penguins obviously don't survive long in the desert." class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Now what about my most controversial statement? That Open Source Models are monkeys? For the consumer market this is maybe not true. Perhaps there’s a key consumer market that needs and wants fully local and private models. And perhaps there’s enterprise customers that absolutely need 100% on premise solutions. Those exist, but they’re not the size of the rest of the market. Open source model developers and hosts will do well in those markets but they without a doubt won’t be unseating OpenAI as a Gorilla. For OpenAI’s key market, they’ll be a low cost and low latency clone. Already <a href="http://together.ai/">Together Compute</a>, which I adore a lot, is selling a whole suite of open source models as a service and marketing it as both faster and cheaper than OpenAI’s services. They don’t describe any key innovations that go beyond cost and speed. That’s clear monkey activity as per Moore. Breaks my heart to say it, but if they act appropriately, they can still make a good deal of money, as long as they don’t get aggressive and pretend to be a Gorilla in OpenAI’s market. Instead it’s for them to develop a side market that OpenAI doesn’t care about and try to position themselves as a market leader.</p>
</section>
<section id="handwaving-towards-the-future" class="level2">
<h2 class="anchored" data-anchor-id="handwaving-towards-the-future">Handwaving towards the future</h2>
<p>Now, what is the future like? I suspect we’re still figuring out the whole product solution. I’m pretty sure the whole product includes at a minimum:</p>
<ul>
<li>A Large Language Model, ala GPT-4</li>
<li>Function calling, as found in GPT-4</li>
<li>A semantic vector service like Pinecone</li>
<li>A retrieval augmented generation (RAG) setup like LangChain</li>
<li>Hosting for all this</li>
</ul>
<p>For the last year those were mostly sold separately sold separately with OpenAI, Pinecone, LangChain, and probably Azure or AWS being the key providers. But now with OpenAI’s <a href="https://platform.openai.com/docs/assistants/overview">Assistants API</a> (and the consumer facing GPTs) we can see OpenAI doing exactly what Moore would expect. They are designing out their old partners and commodotized the whole product into a single bundle that OpenAI sells. It may not be the best overall solution, but in majority markets with pragmatic buyers that want a clear singular standard they can rely on, this strategy often works really well and creates the winner. So assuming OpenAI doesn’t lose the ball, they look to be the winner.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="231209-ai-assistant-sm.png" title="In the future, we won't have to do any real work because our AI Assistants will take on human form and do the work for us. Such a blessing of the market" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>What’s after that? I suspect with AI assistants serving as the commodity whole product, once it gets 100% worked out and crystalized into a standard we’ll see OpenAI start to go back to customer first behaviors as they serve the main market with +1 niche solutions. Already I expect that OpenAI itself wouldn’t even be building out these niches but instead leverage a two sided market place (i.e.&nbsp;the GPTs store). If they do that, then it really is game over for the market with OpenAI being the new Google in the Generative AI market.</p>
<p>But, let’s wait and see.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/fozziethebeat\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>